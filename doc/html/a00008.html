<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>nrf51AdvLogger: Usage of this program</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nrf51AdvLogger
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="a00038.html"><span>To&#160;Do&#160;List</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">BLE Advertisement Observer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Usage of this program </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="a00006.html">Development Setup</a> describes the compiling the code, generating the binary and uploading it to the SoC. After this is done one can start using the Observer. There are two commands available for the Observer, which start and stop the observation for advertisement packets. The commands to the Observer can be sent through the serial port. One must make sure that all messages are teminated by a 'end line' character which is of ASCII value <code>0x0A</code> commonly denoted as <code>\n</code>.</p>
<h2>Initiate </h2>
<p>Send a serial message of <code>START</code> to begin the Observer. The red LED should start blinking showing that the Observer is sniffing. Also the serial port of the computer will receive messages about the packets sniffed.</p>
<blockquote class="doxtable">
<p>Note: If after initiating, a HWFC enabled serial port isn't connected to the UART peripheral the program will stop working since messages need to be sent and the HWFC isn't receiving permission from Clear To Send (CTS) pin. If this happens send a <code>STOP</code> command followed by a <code>START</code> command.</p>
<p></p>
</blockquote>
<h2>Terminate </h2>
<p>Send a serial message of <code>STOP</code> to stop the Observer. The red LED should stop blinking showing that the Observer has stopped sniffing.</p>
<h2>Porting </h2>
<p>For this project to work optimally these are the requirements of the hardware unit of nrf51822, apart from the usual requirements such as power, antenna and access to SWD port:</p>
<ul>
<li>There must be a 16 MHz HF crystal connected</li>
<li>There must a computer's serial port connected to the UART peripheral<ul>
<li>Without modification, this program will only work with a Hardware Flow Control (HWFC) enabled serial port. If not available, make <a class="el" href="a00035.html#ga51e7b9a81c7a8cf41c6b26e1ff1b547a">HWFC</a> false in <a class="el" href="a00009.html">board.h</a>. The UART pin numbers can also be changed as appropriate in <a class="el" href="a00009.html">board.h</a>.</li>
</ul>
</li>
<li>A LED connected to one of the GPIO. As the red LED is used in this program, provide the appropriate pin number to <a class="el" href="a00035.html#ga07af4af4e066d6259e9b2ebf5dbef1b0">LED_RGB_RED</a>. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 21 2014 04:32:19 for nrf51AdvLogger by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
